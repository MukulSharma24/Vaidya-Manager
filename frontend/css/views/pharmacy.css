/* --------------------------------------------------
   PHARMACY MANAGEMENT VIEW STYLES (YOUR ORIGINAL CSS)
   -------------------------------------------------- */

/* CRITICAL: FORCE MEDICINE NAMES ALWAYS VISIBLE */

/* Medicines Grid - Multi-column layout */
.medicines-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)) !important;
    gap: 20px !important;
    padding: 20px 0 !important;
}

/* Medicine Card - Minimal design with muted colors */
.medicine-card {
    background: white !important;
    border-radius: 12px !important;
    padding: 20px !important;
    border: 1px solid #e5e7eb !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08) !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 12px !important;
    transition: all 0.2s ease !important;
    cursor: pointer !important;
    position: relative !important;
}

.medicine-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12) !important;
    transform: translateY(-2px) !important;
    border-color: #d1d5db !important;
}

/* Medicine Header - Name and Stock Badge */
.medicine-header {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    gap: 12px !important;
    margin-bottom: 4px !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* ==========================================
   CRITICAL SECTION: MEDICINE NAME VISIBILITY
   ========================================== */

.medicine-name,
h3.medicine-name,
.medicine-card .medicine-name,
.medicine-header .medicine-name,
.medicines-grid .medicine-name {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    font-size: 17px !important;
    font-weight: 600 !important;
    color: #1f2937 !important;
    margin: 0 !important;
    line-height: 1.3 !important;
    flex: 1 !important;
    max-width: 100% !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
    clip: auto !important;
    white-space: normal !important;
    position: static !important;
}

.medicine-card:not(:hover) .medicine-name,
.medicine-card:not(:hover) h3.medicine-name,
.medicine-card:not(:hover) .medicine-header .medicine-name {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    color: #1f2937 !important;
}

.medicine-card:hover .medicine-name,
.medicine-card:hover h3.medicine-name,
.medicine-card:hover .medicine-header .medicine-name {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    color: #1f2937 !important;
}

.medicine-name {
    transition: none !important;
}

.medicine-name[style*="display: none"],
.medicine-name[style*="visibility: hidden"],
.medicine-name[style*="opacity: 0"] {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* --------------------------------------- */

.stock-badge {
    padding: 4px 10px !important;
    border-radius: 6px !important;
    font-size: 11px !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.3px !important;
    white-space: nowrap !important;
}

.stock-badge.in-stock {
    background: #d1fae5 !important;
    color: #065f46 !important;
}

.stock-badge.low-stock {
    background: #fee2e2 !important;
    color: #991b1b !important;
    animation: pulse-subtle 2s infinite !important;
}

@keyframes pulse-subtle {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.85; }
}

.medicine-meta {
    font-size: 13px !important;
    color: #92400e !important;
    font-weight: 500 !important;
    margin: 0 !important;
    line-height: 1.5 !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

.medicine-details {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 8px !important;
    padding: 12px 0 !important;
    border-top: 1px solid #f3f4f6 !important;
    border-bottom: 1px solid #f3f4f6 !important;
}

.medicine-detail-item { display: flex !important; flex-direction: column !important; gap: 2px !important; }
.medicine-detail-label { font-size: 10px !important; color: #9ca3af !important; font-weight: 600 !important; }
.medicine-detail-value { font-size: 13px !important; color: #374151 !important; font-weight: 600 !important; }

.medicine-info { display: flex !important; gap: 16px !important; justify-content: space-between !important; font-size: 12px !important; }

.medicine-info-item { display: flex !important; flex-direction: column !important; gap: 2px !important; }
.medicine-info-label { color: #9ca3af !important; font-weight: 600 !important; font-size: 10px !important; }
.medicine-info-value { color: #1f2937 !important; font-weight: 700 !important; font-size: 13px !important; }

.medicine-info-value.price { color: #065f46 !important; }
.medicine-info-value.stock-low { color: #dc2626 !important; }
.medicine-info-value.stock-ok { color: #065f46 !important; }

.medicine-actions { display: flex !important; gap: 8px !important; padding-top: 8px !important; }
.medicine-actions .btn { flex: 1 !important; min-width: 0 !important; }

.empty-state { grid-column: 1 / -1 !important; text-align: center !important; padding: 80px 20px !important; }
.empty-state-icon { font-size: 72px !important; margin-bottom: 20px !important; opacity: 0.5 !important; }
.empty-state p { color: #6b7280 !important; font-size: 16px !important; }

/* Responsive Layouts */
@media (min-width: 1600px) {
    .medicines-grid { grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)) !important; }
}

@media (min-width: 1200px) and (max-width: 1599px) {
    .medicines-grid { grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)) !important; }
}

@media (min-width: 768px) and (max-width: 1199px) {
    .medicines-grid { grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)) !important; gap: 16px !important; }
    .medicine-card { padding: 16px !important; }
}

@media (max-width: 767px) {
    .medicines-grid { grid-template-columns: 1fr !important; gap: 16px !important; padding: 16px 0 !important; }
    .medicine-card { padding: 16px !important; }
    .medicine-details { grid-template-columns: 1fr !important; }
    .medicine-info { flex-direction: column !important; gap: 12px !important; }
    .medicine-actions { flex-direction: column !important; }
}

.prescription-tools { margin-bottom: 24px !important; }

.medicine-search { display: flex !important; gap: 12px !important; flex-wrap: wrap !important; }
.medicine-search input { flex: 1 !important; min-width: 250px !important; }

.search-filters { display: flex !important; gap: 12px !important; }

.btn-update-stock {
    background: #059669 !important;
    color: white !important;
    border: none !important;
    font-weight: 600 !important;
    transition: 0.2s ease !important;
}

.btn-update-stock:hover { background: #047857 !important; transform: translateY(-1px) !important; }

#addNewMedicineBtn {
    background: #d97706 !important;
    border: none !important;
    font-weight: 600 !important;
}

#addNewMedicineBtn:hover {
    background: #b45309 !important;
    transform: translateY(-1px) !important;
}

#prescriptionView .view-header h2 {
    color: #2E8B57 !important;
}

#medicineSearchResults { margin-top: 16px !important; }

.medicine-result-card {
    padding: 16px !important;
    border-bottom: 1px solid #e5e7eb !important;
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    transition: background 0.2s !important;
    background: white !important;
}

.medicine-result-card:hover { background: #fafaf9 !important; }

.medicine-result-card h4 {
    margin: 0 !important;
    color: #1f2937 !important;
    font-size: 16px !important;
    font-weight: 600 !important;
}

.expiry-soon { color: #d97706 !important; font-weight: 600 !important; }
.expiry-critical { color: #dc2626 !important; font-weight: 600 !important; }
.expiry-ok { color: #059669 !important; font-weight: 600 !important; }

/* ==========================================
   NUCLEAR OVERRIDE
   ========================================== */

body #prescriptionView .medicines-grid .medicine-card .medicine-header .medicine-name,
body #prescriptionView .medicines-grid .medicine-card .medicine-header h3.medicine-name,
body .medicines-grid .medicine-card .medicine-name,
body .medicine-card .medicine-name {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: static !important;
    clip: auto !important;
    height: auto !important;
    width: auto !important;
    overflow: visible !important;
}

/* --------------------------------------------------
   NEW: DRAWER POPUP STYLES (FIX FOR YOUR UI ISSUE)
   -------------------------------------------------- */

#medicineDrawer {
    position: fixed !important;
    top: 0 !important;
    right: 0 !important;
    width: 420px !important;
    height: 100vh !important;
    background: #ffffff !important;
    box-shadow: -4px 0 14px rgba(0,0,0,0.15) !important;
    z-index: 9999 !important;
    transform: translateX(100%) !important;
    transition: transform 0.35s ease !important;
    overflow-y: auto !important;
}

#medicineDrawer.open {
    transform: translateX(0) !important;
}

/* Drawer Content */
#medicineDrawer .drawer-content {
    padding: 20px !important;
}

/* Drawer Header */
#medicineDrawer .drawer-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    margin-bottom: 20px !important;
}

#closeDrawerBtn {
    font-size: 24px !important;
    background: none !important;
    border: none !important;
    cursor: pointer !important;
}

/* Step Tabs */
.drawer-steps {
    display: flex !important;
    gap: 10px !important;
    margin-bottom: 20px !important;
}

.drawer-steps .step {
    padding: 6px 12px !important;
    background: #e5e5e5 !important;
    border-radius: 6px !important;
    font-weight: 600 !important;
}

.drawer-steps .step.active {
    background: #2E8B57 !important;
    color: white !important;
}

/* Form Fields */
.drawer-body input,
.drawer-body select {
    width: 100% !important;
    padding: 10px !important;
    border: 1px solid #d1d5db !important;
    border-radius: 8px !important;
    margin-bottom: 16px !important;
    font-size: 14px !important;
}

/* Navigation Buttons */
.drawer-nav-btn {
    width: 100% !important;
    padding: 12px !important;
    font-size: 16px !important;
    border-radius: 8px !important;
    margin-top: 10px !important;
}

.btn--primary {
    background: #2E8B57 !important;
    color: white !important;
    border: none !important;
}

.btn--primary:hover {
    background: #256d46 !important;
}

/* ------------------------------------------
   ðŸ”¥ FINAL TWO RULES YOU ASKED TO APPEND
   ------------------------------------------ */

.medicines-grid {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)) !important;
}

.medicine-card {
    padding: 14px !important;
}

/* =====================================
   STOCK UPDATE MODAL â€” CLEAN LAYOUT
===================================== */

.stock-modal {
    max-width: 520px !important;
    border-radius: 14px !important;
    overflow: hidden !important;
}

.stock-modal .modal-header {
    background: linear-gradient(135deg, #1f7a7a, #21808D) !important;
    color: white !important;
    padding: 16px 20px !important;
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
}

.stock-modal .modal-header h2 {
    margin: 0 !important;
    font-size: 18px !important;
    font-weight: 600 !important;
}

.stock-modal .modal-close {
    background: rgba(255,255,255,0.15) !important;
    color: white !important;
    border-radius: 8px !important;
    width: 32px !important;
    height: 32px !important;
    font-size: 18px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

.stock-modal-body {
    padding: 24px !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 18px !important;
}

.stock-info {
    display: flex !important;
    flex-direction: column !important;
    gap: 4px !important;
    font-size: 14px !important;
    color: #374151 !important;
}

.stock-info strong {
    font-size: 16px !important;
    color: #1f2937 !important;
}

.stock-modal-footer {
    display: flex !important;
    justify-content: flex-end !important;
    gap: 12px !important;
    padding-top: 12px !important;
    border-top: 1px solid #e5e7eb !important;
}
